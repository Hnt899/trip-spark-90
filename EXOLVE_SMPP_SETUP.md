# Интеграция МТС Exolve через SMPP протокол

## Обзор

SMPP (Short Message Peer-to-Peer) — протокол для отправки SMS через постоянное TCP-соединение. Подходит для высоконагруженных систем.

## Важно: Ограничения

⚠️ **Supabase Edge Functions — это serverless окружение**, которое не очень подходит для постоянных TCP-соединений, требуемых SMPP. 

**Рекомендация:** Используйте REST API, если возможно. SMPP лучше подходит для:
- Выделенных серверов с постоянным подключением
- Высоконагруженных систем (тысячи SMS в секунду)
- Когда нужна двусторонняя связь (отправка и получение SMS)

## Данные для подключения

Из вашего личного кабинета МТС Exolve:
- **Логин:** `kpvr30crrns8`
- **Пароль:** `wFiTcSdO`
- **Домен:** `smpp.exolve.ru`
- **Порт:** `2775`

## Альтернативное решение: Проверка REST API

Перед переходом на SMPP, давайте убедимся, что REST API действительно не работает. Возможные причины:

1. **Неправильный API ключ** — проверьте, что используете правильный ключ из раздела "Ключи" в личном кабинете
2. **Неправильный endpoint** — возможно, нужно использовать другой URL
3. **Ограничения тестового режима** — в тестовом режиме REST API может быть ограничен

## Если все же нужен SMPP

Для реализации SMPP в Supabase Edge Functions потребуется:

1. **SMPP библиотека для Deno/TypeScript**
2. **Установка соединения** при каждом вызове функции (не оптимально)
3. **Обработка переподключений**

Это будет сложнее и менее эффективно, чем REST API для serverless окружения.

## Рекомендация

1. **Сначала проверьте логи Edge Function** — посмотрите, какая именно ошибка возникает при использовании REST API
2. **Проверьте API ключ** — убедитесь, что используете правильный ключ
3. **Попробуйте отправить тестовый запрос** через curl или Postman напрямую к API МТС Exolve
4. **Если REST API действительно не работает** — рассмотрите возможность подписания договора, чтобы снять ограничения тестового режима

Если после всех проверок REST API не работает, можно реализовать SMPP, но это будет более сложное решение.

